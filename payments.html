<!DOCTYPE html>
<html lang="en">
<head>
  <title>Make Payments - Library</title>
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="main.js"></script>
  <script src="navigation.js"></script>
</head>
<body>
  <div class="leftbar">
    <div class="dashboard">
      <h2>USER DASHBOARD</h2>
    </div>
    <a href="profile.html">My Profile</a>
    <a href="borrow.html">Borrow Books</a>
    <a href="cart.html">My Cart</a>
    <a href="payments.html" class="active">Make Payments</a>    
    <a href="notifications.html">Notifications</a>
    <a href="returns.html">Return Books</a>
    <a href="history.html">Booking History</a>
    <a href="reservations.html">Reserve Resources</a>   
    <a href="feedback.html">Provide Feedback</a>
    <a href="help.html">Help and Support</a>
    <a href="settings.html">Settings</a>
  </div>
  
  <div class="mainbody">
    <div class="navbar">
      <button class="logout-btn" onclick="redirectToLogin()" type="button"><span></span>LOG OUT</button>
    </div>
    
    <div id="payments" class="section">
      <h2>Make Payments</h2>
      <p>Choose what you are paying for:</p>
      <select class="payment" id="payment">
        <option value="" disabled selected>Select </option>
        <option value="fees">Booking fees</option>
        <option value="Subscription">Subscription</option>
        <option value="Fines">Fines</option>
      </select>
      <p>Enter amount</p>
      <input name="Amount" id="amount" type="text">
      <button onclick="processPayment()">Pay Now</button>
    </div>
  </div>

  <script>
    function redirectToLogin() {
      window.location.href = "library.html";
    }
    
    document.addEventListener('DOMContentLoaded', function() {
      if (!checkLogin()) return;
      document.getElementById('payments').style.display = "block";
    });
    
    function processPayment() {
      const paymentType = document.getElementById('payment').value;
      const amount = document.getElementById('amount').value;
      
      if (!paymentType || !amount) {
        alert("Please select a payment type and enter an amount");
        return;
      }
      
      const user_id = localStorage.getItem("user_id");
      
      // This is just a placeholder - in a real app, you would send this to your backend
      alert(`Processing ${paymentType} payment of ${amount} for user ${user_id}`);
      
      // Reset form
      document.getElementById('payment').selectedIndex = 0;
      document.getElementById('amount').value = '';
    }
  </script>
</body>
</html>